=========
Messaging
=========

It is possible to send messages from your kervi app when certain conditions occurs.
The main concept is that a message can be send to one or more message channels like e-mail and user log.

Value messages
==============

You can set warning and error ranges on sensors and other kervi values.

.. code:: python

    from kervi.application import Application
    app = Application()

    from kervi.sensors.sensor import Sensor
    from kervi.devices.sensors.dummy_sensor import DummySensorDeviceDriver

    sensor = Sensor("sensor","CPU", DummySensorDeviceDriver())
    
    sensor.link_to_dashboard(link_to_header=True)
    sensor.link_to_dashboard(type="radial_gauge")
    
    sensor.add_error_range((0, 10), "low error message", channels=["user_log", "email"])
    sensor.add_warning_range((10, 20), "low warning message")
    sensor.add_warning_range((80, 90), "high warning message",channels=["user_log", "email"])
    sensor.add_error_range((90, 100), "high error message", channels=["user_log", "email"])
    sensor.add_normal_range((20, 80), "normal ", channels=["user_log", "email"])
    
    app.run()


In the example above a series of error and warning ranges are defined.