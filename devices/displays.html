

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Displays &mdash; Kervi 0.15.0 - beta documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GPIO" href="gpio.html" />
    <link rel="prev" title="Device library" href="index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Kervi
          

          
          </a>

          
            
            
              <div class="version">
                0.15.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getstarted.html">Get started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getstarted.html#prerequisites">prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getstarted.html#install">Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getstarted.html#create-application">Create application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getstarted.html#single-file-application">Single file application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getstarted.html#multi-process-file-application">Multi process/file application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getstarted.html#start-application">Start application</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#kervi-application-anatomy">Kervi application anatomy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview.html#single-file-application">Single file application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../overview.html#application-line-1-3">Application (line 1-3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../overview.html#dashboards-line-5-25">Dashboards (line 5-25)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../overview.html#sensors-26-39">Sensors (26-39)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../overview.html#controllers-line-38-96">Controllers (line 38-96)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../overview.html#linking-controller-inputs-line-100-108">Linking controller inputs (line 100 - 108)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../overview.html#linking-controller-outputs-line-110-113">Linking controller outputs (line 110 - 113)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../overview.html#go-into-action-line-115">Go into action (line 115)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../overview.html#multi-file-process-application">Multi file/process application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../overview.html#distributed-application">Distributed application</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dashboards.html">Dashboards</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dashboards.html#linking">Linking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../dashboards.html#sensors-and-numbers">Sensors and numbers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dashboards.html#controller-pads">Controller pads</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../dashboards.html#gpio-and-boolean-values">GPIO and boolean values</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sensors.html">Sensors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sensors.html#kervi-device-library">Kervi Device library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sensors.html#linking-sensors">Linking sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sensors.html#implementing-a-sensor-device">Implementing a sensor device</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">Controllers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../controllers.html#input-and-output-interfaces">Input and output interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers.html#linking-controllers">Linking controllers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../signals.html">Signal handling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../signals.html#value-linking">Value linking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../signals.html#value-link-transformation">Value link transformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../signals.html#dashboard-linking">Dashboard linking</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../actions.html">Actions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../actions.html#define-actions">Define actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions.html#actions-with-timeout">Actions with timeout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions.html#asynchronous-action-call">Asynchronous action call</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions.html#interrupts">Interrupts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions.html#linking-to-dashboards">Linking to dashboards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions.html#linking-to-values">Linking to values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions.html#system-actions">System actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions.html#complete-example">Complete example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../actions.html#multi-process">Multi process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../camera.html">Camera and video</a></li>
<li class="toctree-l1"><a class="reference internal" href="../motors.html">Motors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../motors.html#dc-motors">DC motors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../motors.html#servo-motor">Servo motor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../motors.html#stepper-motors">Stepper motors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../display.html">Displays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#accessing-config-values-in-code">Accessing config values in code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../security.html#simple-user-management">Simple user management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../security.html#anonymous-access">Anonymous access</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../security.html#encryption">Encryption</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hal.html">Hardware and devices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hal.html#select-platform">Select platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hal.html#gpio">GPIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hal.html#i2c">I2C</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hal.html#spi">SPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hal.html#device-library">Device library</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Device library</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Displays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ssd1306-i2c">SSD1306(I2C)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hd44780-i2c-pcf8574">HD44780(I2C, PCF8574)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hd44780-i2c-mcp23017">HD44780(I2C, MCP23017)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hd44780">HD44780</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gpio.html">GPIO</a><ul>
<li class="toctree-l3"><a class="reference internal" href="gpio.html#mcp23017-i2c">MCP23017(I2C)</a></li>
<li class="toctree-l3"><a class="reference internal" href="gpio.html#mcp23008-i2c">MCP23008(I2C)</a></li>
<li class="toctree-l3"><a class="reference internal" href="gpio.html#pcf8574-pcf8574a-i2c">PCF8574, PCF8574A(I2C)</a></li>
<li class="toctree-l3"><a class="reference internal" href="gpio.html#pcf859-i2c">PCF859(I2C)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="motors.html">Motors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="motors.html#ln298">LN298</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pwm.html">PWM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pwm.html#raspbery-pi">Raspbery pi</a></li>
<li class="toctree-l3"><a class="reference internal" href="pwm.html#pca9685-i2c">PCA9685(I2C)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sensors.html">Sensors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="sensors.html#temperature">Temperature</a><ul>
<li class="toctree-l4"><a class="reference internal" href="sensors.html#cpu-temp">CPU temp</a></li>
<li class="toctree-l4"><a class="reference internal" href="sensors.html#bmp085-i2c">BMP085(I2C)</a></li>
<li class="toctree-l4"><a class="reference internal" href="sensors.html#ds18b20-one-wire">DS18B20(One wire)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sensors.html#pressure">Pressure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="sensors.html#id1">BMP085</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sensors.html#orientation">Orientation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="sensors.html#lsm9ds0-i2c">LSM9DS0(I2C)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sensors.html#light-lux">Light (lux)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="sensors.html#tsl2561-i2c">TSL2561(I2C)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sensors.html#other">Other</a><ul>
<li class="toctree-l4"><a class="reference internal" href="sensors.html#memory">Memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="sensors.html#cpu-load">CPU load</a></li>
<li class="toctree-l4"><a class="reference internal" href="sensors.html#disk-use">Disk use</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../multi_process.html">Process distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributed.html">Distributed applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../distributed.html#use-cases">Use cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distributed.html#main-application">Main application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distributed.html#application-modules">Application modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../distributed.html#application-discovery">Application discovery</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../distributed.html#discovery-configuration">Discovery configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../distributed.html#connection-without-auto-discovery">Connection without auto discovery</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ipc.html">Component communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Commandline tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contribute.html#development-enviroment">Development enviroment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute.html#github-projects">Github projects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../contribute.html#application-demo-integration-tests">Application (demo, integration tests)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribute.html#kervi-core">Kervi core</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribute.html#kervi-platform-driver">Kervi platform driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribute.html#kervi-device-library">Kervi device library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contribute.html#kervi-ui-web-dashboards">Kervi UI (Web dashboards)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contribute.html#install-packages">Install packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute.html#documentation">Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kervi_api.html">Kervi API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dashboards_api.html">Dashboards api</a></li>
<li class="toctree-l2"><a class="reference internal" href="../camera_api.html">Camera api</a></li>
<li class="toctree-l2"><a class="reference internal" href="../controllers_api.html">Controllers api</a></li>
<li class="toctree-l2"><a class="reference internal" href="../values_api.html">Kervi values api</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sensors_api.html">Sensors API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../display_api.html">Display api</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hal_gpio_api.html">GPIO API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hal_i2c_api.html">I2C API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hal_devices_api.html">Devices API</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Kervi</a>
        
      </nav>


      
      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Device library</a> &raquo;</li>
        
      <li>Displays</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="displays">
<h1>Displays<a class="headerlink" href="#displays" title="Permalink to this headline">¶</a></h1>
<p>This section shows how to initialize and link displays in the kervi device library.
All samples links to a text box in the ui where it is possible to enter the text that
should be displayed.</p>
<p>See <a class="reference internal" href="../display.html#device-displays"><span class="std std-ref">Displays</span></a> for further details on display programming.</p>
<div class="section" id="ssd1306-i2c">
<h2>SSD1306(I2C)<a class="headerlink" href="#ssd1306-i2c" title="Permalink to this headline">¶</a></h2>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kervi.devices.displays.SSD1306</span> <span class="k">import</span> <span class="n">SSD1306DeviceDriver</span>
<span class="n">SSD1306DeviceDriver</span><span class="p">(</span>
    <span class="n">height</span><span class="p">,</span>
    <span class="n">width</span> <span class="o">=</span> <span class="mi">128</span><span class="p">,</span>
    <span class="n">rst</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">i2c_bus</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">i2c_address</span><span class="o">=</span><span class="n">SSD1306_I2C_ADDRESS</span>
<span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">height:</th><td class="field-body">Height of display.</td>
</tr>
<tr class="field-even field"><th class="field-name">width:</th><td class="field-body">Width of display.</td>
</tr>
<tr class="field-odd field"><th class="field-name">rst:</th><td class="field-body">gpio to use as as hardware reset.</td>
</tr>
<tr class="field-even field"><th class="field-name">i2c_bus:</th><td class="field-body">I2C bus. If 0 or None default bus for platform is selected.</td>
</tr>
<tr class="field-odd field"><th class="field-name">i2c_address:</th><td class="field-body">I2C address. Default is 0x3C.</td>
</tr>
</tbody>
</table>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kervi.application</span> <span class="k">import</span> <span class="n">Application</span>
<span class="n">APP</span> <span class="o">=</span> <span class="n">Application</span><span class="p">()</span>

<span class="kn">from</span> <span class="nn">kervi.displays</span> <span class="k">import</span> <span class="n">Display</span>
<span class="kn">from</span> <span class="nn">kervi.devices.displays.SSD1306</span> <span class="k">import</span> <span class="n">SSD1306DeviceDriver</span>
<span class="n">display</span> <span class="o">=</span> <span class="n">Display</span><span class="p">(</span><span class="s2">&quot;d_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Display&quot;</span><span class="p">,</span> <span class="n">SSD1306DeviceDriver</span><span class="p">(</span><span class="mi">32</span><span class="p">))</span>
<span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
<span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">link_to_dashboard</span><span class="p">()</span>

<span class="n">APP</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="hd44780-i2c-pcf8574">
<h2>HD44780(I2C, PCF8574)<a class="headerlink" href="#hd44780-i2c-pcf8574" title="Permalink to this headline">¶</a></h2>
<p>This device driver supports HD44780 displays that are controlled via the PCF8574 gpio i2c chip.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kervi.devices.displays.HD44780_PCF8574</span> <span class="k">import</span> <span class="n">HD44780_PCF8574_DeviceDriver</span>
<span class="n">HD44780_PCF8574_DeviceDriver</span><span class="p">(</span>
    <span class="n">pin_map</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">cols</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
    <span class="n">lines</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">address</span><span class="o">=</span><span class="mh">0x3f</span><span class="p">,</span>
    <span class="n">busnum</span><span class="o">=</span><span class="mi">0</span>
<span class="p">):</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">pin_map:</th><td class="field-body">There are several products that uses PCF8574 to control the display but have different pin setup.
To handle this situation the driver has different pin_maps to use.
Use values 0-3.</td>
</tr>
<tr class="field-even field"><th class="field-name">cols:</th><td class="field-body">Number of characters in a line.</td>
</tr>
<tr class="field-odd field"><th class="field-name">lines:</th><td class="field-body">Number of lines.</td>
</tr>
<tr class="field-even field"><th class="field-name">address:</th><td class="field-body">I2C address. Default is 0x3C.</td>
</tr>
<tr class="field-odd field"><th class="field-name">bus:</th><td class="field-body">I2C bus. If 0 or None default bus for platform is selected.</td>
</tr>
</tbody>
</table>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kervi.application</span> <span class="k">import</span> <span class="n">Application</span>
<span class="n">APP</span> <span class="o">=</span> <span class="n">Application</span><span class="p">()</span>

<span class="kn">from</span> <span class="nn">kervi.displays</span> <span class="k">import</span> <span class="n">Display</span>
<span class="kn">from</span> <span class="nn">kervi.devices.displays.HD44780_PCF8574</span> <span class="k">import</span> <span class="n">HD44780_PCF8574_DeviceDriver</span>
<span class="n">display</span> <span class="o">=</span> <span class="n">Display</span><span class="p">(</span><span class="s2">&quot;d_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Display&quot;</span><span class="p">,</span> <span class="n">HD44780_PCF8574_DeviceDriver</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
<span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">link_to_dashboard</span><span class="p">()</span>

<span class="n">APP</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="hd44780-i2c-mcp23017">
<h2>HD44780(I2C, MCP23017)<a class="headerlink" href="#hd44780-i2c-mcp23017" title="Permalink to this headline">¶</a></h2>
<p>This device driver supports HD44780 displays that are controlled via the MCP23017 gpio i2c chip.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kervi.devices.displays.HD44780_MCP23017</span> <span class="k">import</span> <span class="n">HD44780_MCP23017_DeviceDriver</span>
<span class="n">HD44780_MCP23017_DeviceDriver</span><span class="p">(</span>
    <span class="n">cols</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
    <span class="n">lines</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">address</span><span class="o">=</span><span class="mh">0x20</span><span class="p">,</span>
    <span class="n">busnum</span><span class="o">=</span><span class="mi">0</span>
<span class="p">):</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">cols:</th><td class="field-body">Number of characters in a line.</td>
</tr>
<tr class="field-even field"><th class="field-name">lines:</th><td class="field-body">Number of lines.</td>
</tr>
<tr class="field-odd field"><th class="field-name">address:</th><td class="field-body">I2C address. Default is 0x20.</td>
</tr>
<tr class="field-even field"><th class="field-name">bus:</th><td class="field-body">I2C bus. If 0 or None default bus for platform is selected.</td>
</tr>
</tbody>
</table>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kervi.application</span> <span class="k">import</span> <span class="n">Application</span>
<span class="n">APP</span> <span class="o">=</span> <span class="n">Application</span><span class="p">()</span>

<span class="kn">from</span> <span class="nn">kervi.displays</span> <span class="k">import</span> <span class="n">Display</span>
<span class="kn">from</span> <span class="nn">kervi.devices.displays.HD44780_MCP23017</span> <span class="k">import</span> <span class="n">HD44780_MCP23017_DeviceDriver</span>
<span class="n">display</span> <span class="o">=</span> <span class="n">Display</span><span class="p">(</span><span class="s2">&quot;d_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Display&quot;</span><span class="p">,</span> <span class="n">HD44780_MCP23017_DeviceDriver</span><span class="p">())</span>
<span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
<span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">link_to_dashboard</span><span class="p">()</span>

<span class="n">APP</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="hd44780">
<h2>HD44780<a class="headerlink" href="#hd44780" title="Permalink to this headline">¶</a></h2>
<p>This device driver supports HD44780 displays that is controlled via gpio.</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kervi.devices.displays.HD44780_MCP23017</span> <span class="k">import</span> <span class="n">HD44780_MCP23017_DeviceDriver</span>
<span class="n">HD44780DeviceDriver</span><span class="p">(</span>
    <span class="n">rs</span><span class="p">,</span> <span class="n">en</span><span class="p">,</span>
    <span class="n">d4</span><span class="p">,</span> <span class="n">d5</span><span class="p">,</span> <span class="n">d6</span><span class="p">,</span> <span class="n">d7</span><span class="p">,</span>
    <span class="n">cols</span><span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
    <span class="n">lines</span><span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">backlight</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">invert_polarity</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">enable_pwm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">initial_backlight</span><span class="o">=</span><span class="mf">1.0</span>
<span class="p">):</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">rs, en, d4, d5, d6, d7:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">RS, EN, and D4…D7 parameters should be the pins
connected to the LCD RS, clock enable, and data line 4 through 7 connections.
The LCD will be used in its 4-bit mode so these 6 lines are the only ones
required to use the LCD.</td>
</tr>
<tr class="field-even field"><th class="field-name">cols:</th><td class="field-body">Number of columns in the display</td>
</tr>
<tr class="field-odd field"><th class="field-name">lines:</th><td class="field-body">Number of lines in the display.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">backlight, invert_polarity:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">If you would like to control the backlight, pass in the pin connected to
the backlight with the backlight parameter.  The invert_polarity boolean
controls if the backlight is one with a LOW signal or HIGH signal.  The
default invert_polarity value is True, i.e. the backlight is on with a
LOW signal.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">enable_pwm, initial_backlight:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">You can enable PWM of the backlight pin to have finer control on the
brightness.  To enable PWM make sure your hardware supports PWM on the
provided backlight pin and set enable_pwm to True (the default is False).
The appropriate PWM library will be used depending on the platform, but
you can provide an explicit one with the pwm parameter.
The initial state of the backlight is ON, but you can set it to an
explicit initial state with the initial_backlight parameter (0 is off,
1 is on/full bright).</td>
</tr>
</tbody>
</table>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kervi.application</span> <span class="k">import</span> <span class="n">Application</span>
<span class="n">APP</span> <span class="o">=</span> <span class="n">Application</span><span class="p">()</span>

<span class="kn">from</span> <span class="nn">kervi.hal.gpio</span> <span class="k">import</span> <span class="n">GPIO</span>
<span class="kn">from</span> <span class="nn">kervi.displays</span> <span class="k">import</span> <span class="n">Display</span>
<span class="kn">from</span> <span class="nn">kervi.devices.displays.HD44780_MCP23017</span> <span class="k">import</span> <span class="n">HD44780_MCP23017_DeviceDriver</span>

<span class="n">display</span> <span class="o">=</span> <span class="n">Display</span><span class="p">(</span>
    <span class="s2">&quot;d_1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Display&quot;</span><span class="p">,</span>
    <span class="n">HD44780DeviceDriver</span><span class="p">(</span>
        <span class="n">GPIO</span><span class="p">[</span><span class="mi">15</span><span class="p">],</span> <span class="n">GPIO</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span> <span class="n">GPIO</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span> <span class="n">GPIO</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
        <span class="n">GPIO</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span> <span class="n">GPIO</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span> <span class="n">GPIO</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span> <span class="n">GPIO</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
    <span class="p">))</span>
<span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
<span class="n">display</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">link_to_dashboard</span><span class="p">()</span>

<span class="n">APP</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gpio.html" class="btn btn-neutral float-right" title="GPIO" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Device library" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Tim Wentzlau.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.15.0 - beta',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>