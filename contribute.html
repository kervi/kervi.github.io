

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Contribute &mdash; Kervi 0.13.32 - beta documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Kervi 0.13.32 - beta documentation" href="index.html"/>
        <link rel="prev" title="Commandline tool" href="cli.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Kervi
          

          
          </a>

          
            
            
              <div class="version">
                0.13.32
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getstarted.html">Get started</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="dashboards.html">Dashboards</a></li>
<li class="toctree-l1"><a class="reference internal" href="sensors.html">Sensors</a></li>
<li class="toctree-l1"><a class="reference internal" href="sensors_api.html">Sensors API</a></li>
<li class="toctree-l1"><a class="reference internal" href="controllers.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="dynamic_values.html">Dynamic values</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera.html">Camera and video</a></li>
<li class="toctree-l1"><a class="reference internal" href="motors.html">Motors</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="hal.html">Hardware and devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="ipc.html">Component communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Commandline tool</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#development-enviroment">Development enviroment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#github-projects">Github projects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#application-demo-integration-tests">Application (demo, integration tests)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kervi-core">Kervi core</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kervi-platform-driver">Kervi platform driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kervi-device-library">Kervi device library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kervi-ui-web-dashboards">Kervi UI (Web dashboards)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#install-packages">Install packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Kervi</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Contribute</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="contribute">
<h1>Contribute<a class="headerlink" href="#contribute" title="Permalink to this headline">¶</a></h1>
<p>The kervi project is build on several github projects all under the github.com/kervi name space.
Most of the project are clean python projects except from the web interface project that is implemented as an Angular 4 application.</p>
<div class="section" id="development-enviroment">
<h2>Development enviroment<a class="headerlink" href="#development-enviroment" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://git-scm.com/downloads">GIT</a> is used to handle all soruce code via github.com.
If you want to paticipate install GIT and create an account on github.com</p>
<p><a class="reference external" href="https://code.visualstudio.com/download">Visual Studio Code</a> is used for all projects and VS code settings for each project are stored in the github projects.
For python programming the VS Code Python extension by Don Jayamanne is used for lintning and debuggin.</p>
<p><a class="reference external" href="https://docs.npmjs.com/">NPM</a> is used to handle packages for the web interface if you want to contribute to the web part you need to install NPM.</p>
</div>
<div class="section" id="github-projects">
<h2>Github projects<a class="headerlink" href="#github-projects" title="Permalink to this headline">¶</a></h2>
<p>The framework is multi layered and there exists one or more github projects for each layer.</p>
<table border="1" class="docutils">
<colgroup>
<col width="68%" />
<col width="32%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td colspan="2">application</td>
</tr>
<tr class="row-even"><td>Kervi core</td>
<td>UI</td>
</tr>
<tr class="row-odd"><td colspan="2">Kervi platform driver</td>
</tr>
<tr class="row-even"><td colspan="2">devices</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is important to clone all github projects before installing the packages.</p>
</div>
<div class="section" id="application-demo-integration-tests">
<h3>Application (demo, integration tests)<a class="headerlink" href="#application-demo-integration-tests" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://github.com/kervi/kervi-test.git">https://github.com/kervi/kervi-test.git</a></p>
<p>This projects is used for integration test and demonstrates how the framework is used.</p>
</div>
<div class="section" id="kervi-core">
<h3>Kervi core<a class="headerlink" href="#kervi-core" title="Permalink to this headline">¶</a></h3>
<p>The core part of the framework:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kervi</span><span class="o">/</span><span class="n">kervi</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</div>
<div class="section" id="kervi-platform-driver">
<h3>Kervi platform driver<a class="headerlink" href="#kervi-platform-driver" title="Permalink to this headline">¶</a></h3>
<p>There is a project for each supported platform.
A platform driver exposes the platforms hardware like gpio, i2c, cameras.
For hardware platforms that are not supported a generic driver is used.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kervi</span><span class="o">/</span><span class="n">kervi</span><span class="o">-</span><span class="n">hal</span><span class="o">-</span><span class="n">rpi</span><span class="o">.</span><span class="n">git</span>

<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kervi</span><span class="o">/</span><span class="n">kervi</span><span class="o">-</span><span class="n">hal</span><span class="o">-</span><span class="n">generic</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</div>
<div class="section" id="kervi-device-library">
<h3>Kervi device library<a class="headerlink" href="#kervi-device-library" title="Permalink to this headline">¶</a></h3>
<p>This project holds drivers for specific hardware and dummy drivers for test.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kervi</span><span class="o">/</span><span class="n">kervi</span><span class="o">-</span><span class="n">devices</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</div>
<div class="section" id="kervi-ui-web-dashboards">
<h3>Kervi UI (Web dashboards)<a class="headerlink" href="#kervi-ui-web-dashboards" title="Permalink to this headline">¶</a></h3>
<p>This project contains the python kervi web server and Angular dashboard application.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kervi</span><span class="o">/</span><span class="n">kervi</span><span class="o">-</span><span class="n">ui</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>The angular project is located in kervi_ui/web and is a Angular 4+ application.
You have to update the npm packages in the web folder by calling:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">update</span>
</pre></div>
</div>
<p>Next you have to install the angular cli tool:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">npm</span> <span class="n">install</span> <span class="o">-</span><span class="n">g</span> <span class="nd">@angular</span><span class="o">/</span><span class="n">cli</span>
</pre></div>
</div>
<p>You should now be ready to start web ui development enviroment via:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ng</span> <span class="n">serve</span>
</pre></div>
</div>
<p>This starts a web server that runs the Kervi angular app directly from source.</p>
<p>The development version listen on local host and you need to set that address in your kervi app settings.
Below is a sample app settings that show how to set the settings IPAddress and IPRootAddress to localhost.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">kervi.application</span> <span class="k">import</span> <span class="n">Application</span>
<span class="kn">import</span> <span class="nn">kervi.utility.nethelper</span> <span class="k">as</span> <span class="nn">nethelper</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">APP</span> <span class="o">=</span> <span class="n">Application</span><span class="p">({</span>
        <span class="s2">&quot;info&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;app&quot;</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Test multi file app&quot;</span><span class="p">,</span>
            <span class="s2">&quot;appKey&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;modules&quot;</span><span class="p">:[</span><span class="s2">&quot;sensors&quot;</span><span class="p">,</span> <span class="s2">&quot;controllers&quot;</span><span class="p">,</span> <span class="s2">&quot;cams&quot;</span><span class="p">],</span>
        <span class="s2">&quot;network&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;IPAddress&quot;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;IPRootAddress&quot;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;IPCRootPort&quot;</span><span class="p">:</span><span class="mi">9500</span><span class="p">,</span>
            <span class="s2">&quot;WebSocketPort&quot;</span><span class="p">:</span><span class="mi">9000</span><span class="p">,</span>
            <span class="s2">&quot;WebPort&quot;</span><span class="p">:</span> <span class="mi">8080</span><span class="p">,</span>
            <span class="s2">&quot;IPCSecret&quot;</span><span class="p">:</span><span class="sa">b</span><span class="s2">&quot;fd9969b3-9748-46b6-a69d-119ec2773352&quot;</span><span class="p">,</span>

        <span class="p">},</span>
    <span class="p">})</span>

    <span class="n">APP</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>If you want to test your changes in the Kervi web server you need to build the ui app via.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ng</span> <span class="n">build</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="install-packages">
<h2>Install packages<a class="headerlink" href="#install-packages" title="Permalink to this headline">¶</a></h2>
<p>The cloned git projects above should be installed as python development packages.
Execute the commands below the order is important:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">./</span><span class="n">kervi</span><span class="o">-</span><span class="n">devices</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">./</span><span class="n">kervi</span><span class="o">-</span><span class="n">ui</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">./</span><span class="n">kervi</span><span class="o">-</span><span class="n">hal</span><span class="o">-</span><span class="n">generic</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">./</span><span class="n">kervi</span>
</pre></div>
</div>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>If you want to help with the documentation you need to clone the kervi project (see above).
Source files for the documentation are located in the _doc folder as a sphinx project.</p>
<p>Run these commands to install sphinx</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">sphinx</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">sphinx_rtd_theme</span>
</pre></div>
</div>
<p>Run the command below in the _doc folder:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">html</span>
</pre></div>
</div>
<p>This will create a kervi-doc folder at the same level as the kervi project.
Open kervi-doc/html/index.html in a browser and you should see the finished documentation.</p>
<p>When you are ready to submit your work create a pull request on github.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="cli.html" class="btn btn-neutral" title="Commandline tool" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Tim Wentzlau.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.13.32 - beta',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>